<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>COGNITIVE SERVICES-TRANSLATING SPEECH &middot; </title>
        <meta name="description" content="In addition to text analysis Microsoft&rsquo;s cognitive services allow you to convert speech to text, text to speech, and even translate between spoken languages. This powerful AI service is surprisingly easy to use. I was able to speak into my computers microphone and receive a text translation in one language or a spoken translation in multiple languages &ndash;all with the code provided on Microsoft Learn. You have the option to work with the speech SDK (software development kit) in C# or python, I choose python.">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.87.0" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="COGNITIVE SERVICES-TRANSLATING SPEECH">
<meta property="og:description" content="In addition to text analysis Microsoft&rsquo;s cognitive services allow you to convert speech to text, text to speech, and even translate between spoken languages. This powerful AI service is surprisingly easy to use. I was able to speak into my computers microphone and receive a text translation in one language or a spoken translation in multiple languages &ndash;all with the code provided on Microsoft Learn. You have the option to work with the speech SDK (software development kit) in C# or python, I choose python.">
<meta property="og:type" content="article">
<meta property="og:url" content="/cognitive-services-translation/">
        <link rel="stylesheet" href="/dist/site.css">
        <link rel="stylesheet" href="/dist/syntax.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
        
        
        
        

    </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a href="/">Olivia Snowden&#39;s Blog</a>
                            </h1>
                        
                        
                        
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" aria-label="Github" href="https://github.com/olivialauryn" rel="me">
                                <i class="fa fa-github-alt" aria-hidden="true"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="LinkedIn" aria-label="LinkedIn" href="https://www.linkedin.com/in/olivialaurynsnowden" rel="me">
                                <i class="fa fa-linkedin" aria-hidden="true"></i>
                            </a>
                        
                        
                    </div>

                    <ul class="site-nav">
                        

                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">COGNITIVE SERVICES-TRANSLATING SPEECH</h1>
    
    <p class="post-date post-line">
        <span>Published <time datetime="2020-06-25" itemprop="datePublished">Thu, Jun 25, 2020</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="#" itemprop="url" rel="author">osnowden</a>
            </span>
        </span>
    </p>
    
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <p>In addition to text analysis Microsoft&rsquo;s cognitive services allow you to convert speech to text, text to speech, and even translate between spoken languages. This powerful AI service is surprisingly easy to use. I was able to speak into my computers microphone and receive a text translation in one language or a spoken translation in multiple languages &ndash;all with the <a href="https://docs.microsoft.com/en-us/learn/modules/translate-speech-speech-service/">code </a>provided on Microsoft Learn. You have the option to work with the speech SDK (software development kit) in C# or python, I choose python.</p>
<p>Like the text analysis cognitive service, you&rsquo;ll need to deploy a resource (for the speech service, deploy the &ldquo;speech&rdquo; resource) in Azure and save its key/region to use in the scripts. Since working with translating speech requires you to use your computer&rsquo;s microphone, the code for this service needs to be executed locally instead of in an online environment like Visual Studio Codespaces. I already had python and Visual Studio Code installed on my laptop, so that is what I used.</p>
<h2 id="speech-to-text-translation">Speech to text translation</h2>
<p>First, you need to create a folder to store the project in and then open that folder in your code editor. Once in the folder, create a file named translate_speech.py and copy in the code provided for this exercise on Microsoft Learn. In line 3 insert your Azure speech resource&rsquo;s key and region (To keep my key from being public I removed it for this photo-safety first).</p>
<p><img src="/cognitive-4.png" alt=""></p>
<p>This script is commented well, so its easy to walk through. It breaks down speech translation into three key objects:</p>
<ol>
<li>SpeechTranslationConfig: accepts the key and region of your Azure resource, sets the source and target language, and creates a name for the speech output</li>
<li>TranslationRecognizer: accepts the SpeechTranslationCofig object which calls the method to start the translation</li>
<li>TranslationRecognitionResult: returns the result of the translation</li>
</ol>
<p>In this first half of this translate_speech_to_text function you can change the fromLanguage and toLanguage variables to translate to/from many different languages. Below is the second half of the function which consists of an if/elif statement that gives options for output. This way you&rsquo;ll receive output that informs you of what has happened even if the speech couldn&rsquo;t be translated or the translation was cancelled.</p>
<p><img src="/cognitive-5.png" alt=""></p>
<p>In the last line you can see the translate_speech_to_text() function being called, which in combination with your Azure resource translates your speech to another language when the script is run. Here you can see my script running which translated &ldquo;Hello World&rdquo; in english to &ldquo;Hallo Welt&rdquo; in dutch.</p>
<p><img src="/cognitive-6.png" alt=""></p>
<h2 id="speech-to-speech-translation-multiple-languages">Speech to speech translation-multiple languages</h2>
<p>The speech cognitive service also allows you to translate speech in one language to speech in multiple other languages using a similar script to the one shown above. In addition to the SpeechTranslationConfig, TranslationRecognizer, and TranslationRecognitionResult objects the script for translating to multiple languages also uses a speech synthesizer object that plays the audio output of the target languages.</p>
<p>You can use the same speech Azure resource for this script, I used Visual Studio Code and python here too. First you need to create a new file titled texttomultilang.py or something similar. Then copy in the code provided on Microsoft Learn for this exercise. Like before, you also need to insert your speech resource&rsquo;s key and region before the script&rsquo;s function.</p>
<p><img src="/cognitive-7.png" alt=""></p>
<p>Here you can see this script is similar to the speech to text script. One difference is the addition of the speech_synthesizer object and multiple target languages in the SpeechTranslationConfig object&rsquo;s dictionary. You can add as many target languages as you would like by adding &ldquo;speech_config.add_target_language('<em>language</em>')&rdquo; to the dictionary.</p>
<p><img src="/cognitive-8.png" alt=""></p>
<p><img src="/cognitive-9.png" alt=""></p>
<p>Another difference between this script and the speech to text script is a more complicated if/elif statement at the end of the function. So that pronunciation is correct, its important that the synthesized voice used to &ldquo;speak&rdquo; the translation is the right voice for the language. To make sure that happens an if/else statement for each language the speech is being translated into is nested under the first <strong>if</strong> in the main if/elif structure. This is the basic setup:</p>
<pre><code>Is the speech recognized/can it be translated? 
   then print the translations:
    is the toLanguage language#1? 
      then use language#1's voice
    is the toLanguage language#2? 
      then use language#2's voice
OR Could the speech not be translated? 
OR Is the speech not recognized? 
OR Was the translation cancelled? 
   print this error
</code></pre>
<p>If you add more toLanguages in the SpeechTranslationConfig&rsquo;s dictionary, make sure you add the language(s) to the nested if/else statement and name the right <a href="https://aka.ms/speech/sttt-languages">voice</a>.</p>
<p>When the script is run your speech is printed, followed by the translations into the languages of your choice. In addition to a printed translation, you  receive a spoken translation with an appropriate accent.</p>
<p><img src="/cognitive-10.png" alt=""></p>
<p>Being able to translate between languages in near real-time could be used in meetings, conferences, or presentations that have participants from all over the world. Regardless of how its used, working with the speech cognitive service is great practice in using python ( or C#) to work with AI.</p>

</div>

        <footer class="post-footer clearfix">
        <p class="post-tags">
            <span>Tagged:</span>
                <a href="/tags/code/">code</a>, 
                <a href="/tags/ai/">AI</a>, 
                <a href="/tags/cloud/">cloud</a>
        </p>
    <div class="share">
            <a class="icon-twitter" href="https://twitter.com/share?text=COGNITIVE%20SERVICES-TRANSLATING%20SPEECH&url=%2fcognitive-services-translation%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" aria-label="Share on Twitter">
                <i class="fa fa-twitter" aria-hidden="true"></i>
            </a>
    </div>
</footer>

        
    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a href="/">Olivia Snowden&#39;s Blog</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#" aria-label="Back to Top">
                        <i class="fa fa-angle-up" aria-hidden="true"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2022 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="/js/jquery-1.11.3.min.js"></script>
        <script src="/js/jquery.fitvids.js"></script>
        <script src="/js/scripts.js"></script>
    </body>
</html>

